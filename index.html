<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>⚡ Pokémon Battle Arena ⚡</title>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet"/>
  <style>
    body {
      font-family: 'Fredoka One', Arial, sans-serif;
      margin: 0; padding: 0;
      background: radial-gradient(ellipse at top left, #FFFDE7 60%, #FFEA00 100%);
      min-height: 100vh;
      color: #222;
    }
    h1 {
      background: #FFF176; color: #222;
      margin: 0; padding: 25px 0 15px 0;
      text-align: center; text-shadow: 1px 1px 10px #FDD835;
      letter-spacing: 3px; font-size: 2.7em;
      border-bottom: 6px solid #FFEB3B;
      box-shadow: 0 7px 20px -10px #F9A825;
    }
    .main-content {
      max-width: 700px; margin: 30px auto; padding: 30px;
      background: rgba(255,255,255,0.93);
      border-radius: 28px; box-shadow: 0 0 16px #EED904;
    }
    .battle-area {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      margin-bottom: 15px;
    }
    .pokemon-info {
      border: 2.3px solid #FBC02D; background: #FFFDE7;
      padding: 12px; border-radius: 14px;
      display: flex; flex-direction: column; align-items: center;
      width: 220px;
      min-height: 280px;
      margin: 0 10px;
      box-shadow: 0 3px 10px #ffe082, 0 1px 0 #fbc02d inset;
      font-size: 17px;
    }
    .pokemon-info img {
      margin-bottom: 7px; 
      width: 120px;
      height: 120px;
      image-rendering: pixelated;
    }
    
    #battle-stage {
      position: relative; /* Needed for confetti positioning */
      height: 150px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 30px;
      overflow: hidden; /* Hide confetti that falls out of the box */
    }
    .battle-sprite {
      width: 120px;
      height: 120px;
      image-rendering: pixelated;
      transition: transform 0.3s, opacity 0.5s;
    }
    
    /* --- ANIMATION & CELEBRATION STYLES --- */
    @keyframes lunge {
      50% { transform: scale(1.2) translateY(-10px); }
    }
    @keyframes take-hit-flash {
      50% { filter: brightness(2); }
    }
    @keyframes victory-dance {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-15px) scale(1.1); }
    }
    .animate-lunge { animation: lunge 0.4s ease-in-out; }
    .animate-hit { animation: take-hit-flash 0.3s linear; }
    .animate-victory { animation: victory-dance 0.7s ease-in-out infinite alternate; }

    /* New Confetti Styles */
    .confetti-piece {
      position: absolute;
      width: 8px;
      height: 16px;
      top: -20px;
      animation: fall 3s linear forwards;
    }
    @keyframes fall {
      to {
        transform: translateY(200px) rotate(720deg);
        opacity: 0;
      }
    }

    .stats { text-align: left; width: 100%; font-size:0.98em; }
    .hp-bar {
      background: #FFF9C4; border-radius: 6px;
      width: 100%; height: 19px; margin: 7px 0;
      box-shadow: 0 1.5px 4px #F9A825, 0 0 2px #fbc02d inset;
      position: relative; overflow: hidden;
    }
    .hp-fill {
      height: 100%;
      background: linear-gradient(95deg, #4CAF50 40%, #8BC34A 80%);
      transition: width 0.5s ease-out;
    }
    .hp-fill.low { background: linear-gradient(95deg, #F44336 40%, #E57373 80%); }
    .hp-fill.medium { background: linear-gradient(95deg, #FFC107 40%, #FFD54F 80%); }

    .controls { text-align:center; margin-top: 15px; }
    button {
      font-family: 'Fredoka One', Arial, sans-serif; font-size: 20px;
      background-color: #FFEB3B; border: 2.5px solid #F9A825;
      border-radius: 13px; cursor: pointer; padding: 8px 36px;
      color: #222; margin: 15px 12px;
      box-shadow: 0 1.5px 5px #FFFDE7;
      transition: background 0.2s, box-shadow 0.2s;
      letter-spacing:2px;
    }
    button:hover:not(:disabled) { background-color: #FFF176; }
    button:disabled {
      background-color: #ddd; border-color: #aaa; color: #888;
      cursor: not-allowed; box-shadow: none;
    }
    #battle-log {
      white-space: pre-wrap; background: #fff9c4; padding: 12px;
      height: 150px; overflow-y: auto;
      border: 2.5px solid #FBC02D; border-radius: 10px;
      font-family: 'Consolas', monospace, 'Courier New';
      font-size: 16px; margin-top:5px;
      box-shadow: 0 1.2px 9px #FFD600 inset;
    }
  </style>
</head>
<body>
  <h1>⚡ Pokémon Battle Arena ⚡</h1>
  <div class="main-content">
    <div class="battle-area">
      <div class="pokemon-info" id="pokemon1-info"></div>
      <div class="pokemon-info" id="pokemon2-info"></div>
    </div>
    
    <div id="battle-stage"></div>

    <div class="controls">
      <label for="pokemon1">Pokémon 1:</label>
      <select id="pokemon1"></select>
      <label for="pokemon2">Pokémon 2:</label>
      <select id="pokemon2"></select>
    </div>
    <div class="controls">
      <button id="simulate-battle">Simulate Battle</button>
      <button id="auto-play" disabled>Auto Play</button>
      <button id="reset-battle">Reset</button>
    </div>
    <h2 style="text-align:center;">Battle Log</h2>
    <div id="battle-log"></div>
  </div>

  <audio id="attack-sound" src="https://cdn.pixabay.com/audio/2021/08/04/audio_a2bce43fce.mp3" preload="auto"></audio>
  <audio id="faint-sound" src="https://vgmsite.com/soundtracks/pokemon-gameboy-sound-collection/cpfrutif/123-bonus-game-over.wav" preload="auto"></audio>
  
  <script src="app.js"></script>
</body>
</html>